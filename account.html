<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fake S·ªë D∆∞ T√†i Kho·∫£n - FakeBill</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üí∞</text></svg>">
    <style>
        .account-template {
            background: linear-gradient(135deg, #1e3a5f 0%, #0d1b2a 100%);
            border-radius: 20px;
            padding: 24px;
            width: 100%;
            max-width: 380px;
            color: white;
        }

        .acc-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 24px;
        }

        .acc-header img {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            background: white;
            padding: 4px;
        }

        .acc-header .bank-info h4 {
            font-size: 1rem;
            font-weight: 600;
        }

        .acc-header .bank-info span {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.7);
        }

        .acc-balance-section {
            text-align: center;
            padding: 32px 0;
        }

        .acc-label {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 8px;
        }

        .acc-balance {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 4px;
        }

        .acc-currency {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
        }

        .acc-details {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 16px;
        }

        .acc-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .acc-row:last-child {
            border-bottom: none;
        }

        .acc-row .label {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.85rem;
        }

        .acc-row .value {
            font-weight: 500;
            font-size: 0.85rem;
        }
    </style>
</head>

<body>
    <div class="container">
        <a href="index.html" class="back-btn">‚Üê Quay l·∫°i</a>

        <header class="header">
            <h1>üí∞ S·ªë D∆∞ T√†i Kho·∫£n</h1>
            <p>T·∫°o m√†n h√¨nh s·ªë d∆∞ t√†i kho·∫£n</p>
        </header>

        <main class="fade-in">
            <!-- Bank Selection -->
            <div class="card">
                <label class="form-group">
                    <span style="display:block; margin-bottom:12px; font-weight:600;">Ch·ªçn ng√¢n h√†ng</span>
                </label>
                <div class="bank-grid" id="bankGrid">
                    <div class="bank-item selected" data-bank="vcb" data-name="Vietcombank">
                        <img src="https://api.vietqr.io/img/VCB.png" alt="VCB">
                        <span>VCB</span>
                    </div>
                    <div class="bank-item" data-bank="bidv" data-name="BIDV">
                        <img src="https://api.vietqr.io/img/BIDV.png" alt="BIDV">
                        <span>BIDV</span>
                    </div>
                    <div class="bank-item" data-bank="mb" data-name="MB Bank">
                        <img src="https://api.vietqr.io/img/MB.png" alt="MB">
                        <span>MB Bank</span>
                    </div>
                    <div class="bank-item" data-bank="tech" data-name="Techcombank">
                        <img src="https://api.vietqr.io/img/TCB.png" alt="TCB">
                        <span>TCB</span>
                    </div>
                    <div class="bank-item" data-bank="acb" data-name="ACB">
                        <img src="https://api.vietqr.io/img/ACB.png" alt="ACB">
                        <span>ACB</span>
                    </div>
                    <div class="bank-item" data-bank="agri" data-name="Agribank">
                        <img src="https://api.vietqr.io/img/VBA.png" alt="Agri">
                        <span>Agribank</span>
                    </div>
                </div>
            </div>

            <!-- Form -->
            <div class="card">
                <div class="form-group">
                    <label>T√™n ch·ªß t√†i kho·∫£n</label>
                    <input type="text" class="form-input" id="accountName" placeholder="NGUYEN VAN A"
                        value="NGUYEN VAN A">
                </div>
                <div class="form-group">
                    <label>S·ªë t√†i kho·∫£n</label>
                    <input type="text" class="form-input" id="accountNumber" placeholder="0123456789"
                        value="0123456789">
                </div>
                <div class="form-group">
                    <label>S·ªë d∆∞ kh·∫£ d·ª•ng (VNƒê)</label>
                    <input type="text" class="form-input" id="balance" placeholder="50,000,000" value="50000000">
                </div>
                <div class="form-group">
                    <label>Lo·∫°i t√†i kho·∫£n</label>
                    <select class="form-input" id="accountType">
                        <option value="T√†i kho·∫£n thanh to√°n">T√†i kho·∫£n thanh to√°n</option>
                        <option value="T√†i kho·∫£n ti·∫øt ki·ªám">T√†i kho·∫£n ti·∫øt ki·ªám</option>
                        <option value="T√†i kho·∫£n VIP">T√†i kho·∫£n VIP</option>
                    </select>
                </div>
            </div>

            <!-- Preview -->
            <div class="card">
                <h3 style="margin-bottom:16px; font-weight:600;">Xem tr∆∞·ªõc</h3>
                <div class="preview-area" id="previewArea">
                    <div id="accountPreview" class="account-template" style="display:none;">
                        <div class="acc-header">
                            <img id="accLogo" src="https://api.vietqr.io/img/VCB.png" alt="Bank">
                            <div class="bank-info">
                                <h4 id="accBankName">Vietcombank</h4>
                                <span id="accType">T√†i kho·∫£n thanh to√°n</span>
                            </div>
                        </div>
                        <div class="acc-balance-section">
                            <div class="acc-label">S·ªë d∆∞ kh·∫£ d·ª•ng</div>
                            <div class="acc-balance" id="accBalance">50,000,000</div>
                            <div class="acc-currency">VNƒê</div>
                        </div>
                        <div class="acc-details">
                            <div class="acc-row">
                                <span class="label">Ch·ªß t√†i kho·∫£n</span>
                                <span class="value" id="accName">NGUYEN VAN A</span>
                            </div>
                            <div class="acc-row">
                                <span class="label">S·ªë t√†i kho·∫£n</span>
                                <span class="value" id="accNumber">0123456789</span>
                            </div>
                            <div class="acc-row">
                                <span class="label">Tr·∫°ng th√°i</span>
                                <span class="value" style="color:#4ade80;">‚óè Ho·∫°t ƒë·ªông</span>
                            </div>
                        </div>
                    </div>
                    <div class="preview-placeholder" id="placeholder">
                        <span>üí≥</span>
                        <p>Nh·∫•n "T·∫°o" ƒë·ªÉ xem tr∆∞·ªõc</p>
                    </div>
                </div>
            </div>

            <!-- Actions -->
            <div class="btn-group">
                <button class="btn btn-primary" onclick="generateAccount()">‚ú® T·∫°o</button>
                <button class="btn btn-success" onclick="downloadAccount()" id="downloadBtn" disabled>üì• T·∫£i
                    ·∫¢nh</button>
            </div>
        </main>

        <footer class="footer">
            <p><a href="https://github.com/chumvn/fakebill" target="_blank">GitHub</a></p>
        </footer>
    </div>

    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script>
        let selectedBank = { code: 'vcb', name: 'Vietcombank', logo: 'https://api.vietqr.io/img/VCB.png' };

        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.bank-item').forEach(item => {
                item.addEventListener('click', () => {
                    document.querySelectorAll('.bank-item').forEach(b => b.classList.remove('selected'));
                    item.classList.add('selected');
                    selectedBank = {
                        code: item.dataset.bank,
                        name: item.dataset.name,
                        logo: item.querySelector('img').src
                    };
                });
            });
        });

        function formatCurrency(amount) {
            return new Intl.NumberFormat('vi-VN').format(parseInt(amount.replace(/\D/g, '')));
        }

        function generateAccount() {
            const name = document.getElementById('accountName').value;
            const number = document.getElementById('accountNumber').value;
            const balance = document.getElementById('balance').value;
            const type = document.getElementById('accountType').value;

            document.getElementById('accLogo').src = selectedBank.logo;
            document.getElementById('accBankName').textContent = selectedBank.name;
            document.getElementById('accType').textContent = type;
            document.getElementById('accBalance').textContent = formatCurrency(balance);
            document.getElementById('accName').textContent = name.toUpperCase();
            document.getElementById('accNumber').textContent = number;

            document.getElementById('placeholder').style.display = 'none';
            document.getElementById('accountPreview').style.display = 'block';
            document.getElementById('downloadBtn').disabled = false;
        }

        async function downloadAccount() {
            const preview = document.getElementById('accountPreview');
            try {
                const canvas = await html2canvas(preview, { scale: 2, backgroundColor: null });
                const link = document.createElement('a');
                link.download = `sodu_${selectedBank.code}_${Date.now()}.png`;
                link.href = canvas.toDataURL('image/png');
                link.click();
            } catch (error) {
                alert('C√≥ l·ªói khi t·∫°o ·∫£nh.');
            }
        }
    </script>
</body>

</html>